---
tmpfs::size: "%{::memory.swap.total_bytes}"
tmpfs::nr_inodes: 200m

mountpoints:
  /srv/storage/space:
    device: saam:/srv/storage/space
    fstype: nfs
    options:
      - rw
      - soft
      - intr
      - rsize=8192
      - wsize=8192
      - noauto
      - x-systemd.automount
      - x-systemd.device-timeout=10
  /srv/softwareheritage/objects:
    device: saam:/srv/softwareheritage/objects
    fstype: nfs
    options:
      - rw
      - soft
      - intr
      - rsize=8192
      - wsize=8192
      - noauto
      - x-systemd.automount
      - x-systemd.device-timeout=10
  swap:
    device: LABEL="swap"
    fstype: swap
    options:
      - sw
  /tmp:
    device: tmpfs
    fstype: tmpfs
    options:
      - "size=%{lookup('tmpfs::size')}"
      - "nr_inodes=%{lookup('tmpfs::nr_inodes')}"
      - noexec
      - nosuid
      - nodev
      - relatime
      - rw
