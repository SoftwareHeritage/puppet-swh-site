swh::deploy::worker::instances:
  - loader_oneshot
  - loader_git

swh::deploy::worker::loader_oneshot::concurrency: 5
swh::deploy::worker::loader_oneshot::max_tasks_per_child: 1
swh::deploy::worker::loader_oneshot::task_queues:
  # loader-git
  - oneshot3:swh.loader.git.tasks.UpdateGitRepository
  - oneshot2:swh.loader.git.tasks.UpdateGitRepository
  # mercurial
  - oneshot2:swh.loader.mercurial.tasks.LoadMercurial
  - oneshot2:swh.loader.mercurial.tasks.LoadArchiveMercurial
  # svn
  - oneshot2:swh.loader.svn.tasks.LoadSvnRepository
  - oneshot2:swh.loader.svn.tasks.MountAndLoadSvnRepository
  - oneshot2:swh.loader.svn.tasks.DumpMountAndLoadSvnRepository

# Make loader git service consume from dedicated queue to subside lag and standard queue
swh::deploy::loader_git::queues:
  - oneshot3:swh.loader.git.tasks.UpdateGitRepository
  - swh.loader.git.tasks.UpdateGitRepository

swh::deploy::worker::loader_git::concurrency: 10
swh::deploy::worker::loader_git::max_tasks_per_child: 1
