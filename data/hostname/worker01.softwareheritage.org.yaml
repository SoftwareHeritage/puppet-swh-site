networks:
  private:
    interface: ens19
    address: 192.168.100.21
    netmask: 255.255.255.0
    gateway: 192.168.100.1
  default:
    interface: ens18
    address: 128.93.193.21
    netmask: 255.255.255.0
    gateway: 128.93.193.254

swh::deploy::worker::lister::config:
  storage: "%{alias('swh::remote_service::storage::config::writable')}"
  scheduler: "%{alias('swh::remote_service::scheduler::config::writable')}"
  lister:
    cls: local
    args:
      db: "postgresql://%{hiera('swh::deploy::worker::lister::db::user')}:%{hiera('swh::deploy::lister::db::password')}@%{hiera('swh::deploy::worker::lister::db::host')}:%{hiera('swh::deploy::worker::lister::db::port')}/%{hiera('swh::deploy::worker::lister::db::name')}"
  celery:
    task_broker: "%{alias('swh::deploy::worker::task_broker')}"
    task_modules:
      - swh.lister.bitbucket.tasks
      - swh.lister.cgit.tasks
      - swh.lister.debian.tasks
      - swh.lister.gitlab.tasks
      - swh.lister.gnu.tasks
      - swh.lister.npm.tasks
      - swh.lister.phabricator.tasks
      - swh.lister.pypi.tasks
    task_queues:
      - swh.lister.bitbucket.tasks.IncrementalBitBucketLister
      - swh.lister.bitbucket.tasks.FullBitBucketRelister
      - swh.lister.cgit.tasks.CGitListerTask
      - swh.lister.debian.tasks.DebianListerTask
      - swh.lister.gitlab.tasks.IncrementalGitLabLister
      - swh.lister.gitlab.tasks.RangeGitLabLister
      - swh.lister.gitlab.tasks.FullGitLabRelister
      - swh.lister.gnu.tasks.GNUListerTask
      - swh.lister.npm.tasks.NpmListerTask
      - swh.lister.phabricator.tasks.FullPhabricatorLister
      - swh.lister.pypi.tasks.PyPIListerTask
  credentials: "%{alias('swh::deploy::worker::lister::config::credentials')}"

