# Managed by puppet - modifications will be overwritten
# In defined class profile::swh::deploy::worker::instance

[Service]
Environment=CONCURRENCY=<%= @concurrency %>
Environment=MAX_TASKS_PER_CHILD=<%= @max_tasks_per_child %>
Environment=LOGLEVEL=<%= @loglevel %>
<%- if !@sentry_dsn.nil? and !@sentry_dsn.empty? -%>
Environment=SWH_SENTRY_DSN=<%= @sentry_dsn %>
<%- end -%>
<%- if !@sentry_environment.nil? and !@sentry_environment.empty? -%>
Environment=SWH_SENTRY_ENVIRONMENT=<%= @sentry_environment %>
<%- end -%>
<%- if !@sentry_swh_package.nil? and !@sentry_swh_package.empty? -%>
Environment=SWH_MAIN_PACKAGE=<%= @sentry_swh_package %>
<%- end -%>
<% if @limit_no_file %>
LimitNOFILE=<%= @limit_no_file %>
<% end %>
<% if @private_tmp %>
PrivateTmp=<%= @private_tmp %>
<% end %>
<%- if !@celery_worker_extra_args.nil? and !@celery_worker_extra_args.empty? -%>
Environment=CELERY_WORKER_EXTRA_ARGS=<%= @celery_worker_extra_args %>
<%- end -%>
